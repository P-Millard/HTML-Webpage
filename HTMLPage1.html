<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title> Card Tracker </title>
</head>
<link rel="stylesheet" href="StyleSheet1.css">
<body>
    <form id="form">
        <input type="text" id="user" name="u" placeholder="Username..." aria-label="Input User Name">
        <input type="password" id="pass" name="p" placeholder="Password..." aria-label="Input Password">
        <button>Login</button>
        <button>Sign Up</button>
    </form>
        <button name="Save" onclick="save()">Save</button>
        <button name="Load" onclick="load()">Load</button>


    <center>
        <div class="bannerContainer">
            <div class="bannerItem"><img src="https://i.redd.it/jd2sdm59hdo31.png" height="140px" width="100px"></div>
            <div class="bannerItem"><img src="https://i.redd.it/jd2sdm59hdo31.png" height="140px" width="100px"></div>
            <div class="bannerItem"><img src="https://i.redd.it/jd2sdm59hdo31.png" height="140px" width="100px"></div>
            <div class="bannerItem"><img src="https://i.redd.it/jd2sdm59hdo31.png" height="140px" width="100px"></div>
            <div class="bannerItem"><img src="https://i.redd.it/jd2sdm59hdo31.png" height="140px" width="100px"></div>

            <div class="bannerItem">
                <h1><b><u>Magic Management</u></b></h1>

                <input oninput="this.value = this.value.toUpperCase()" type="text" id="input" name="in" placeholder="Card Name..." aria-label="Input A Card Name">
                <button name="Add" onclick="add();">Add</button>
                <button name="Remove" onclick="remove()">Remove</button>
                <button name="Search" onclick="search()">Search</button>

                <script>
                    var dataArr = []

                    function add() {
                        var inputText = document.getElementById('input').value;

                        dataArr.push(inputText);

                        const gridContainer = document.getElementById("gridContainer");

                        i = dataArr.length - 1;

                        gridContainer.innerHTML += '<div class="gridItem">' + dataArr[i] + '</div>';

                    }

                    function remove() {
                        var inputText = document.getElementById('input').value;

                        var toggle = 0;
                        for (i = 0; i < dataArr.length - 1; i++) {
                            if (inputText == dataArr[i]) {
                                dataArr[i] = dataArr[i + 1];
                                var toggle = 1;
                            }
                            if (toggle == 1) {
                                dataArr[i] = dataArr[i + 1];
                            }
                        }

                        i = dataArr.length - 1

                        if (toggle == 1) {
                            dataArr.pop()
                        }
                        else {
                            if (inputText == dataArr[i]) {
                                dataArr.pop()
                            }
                        }

                        const gridContainer = document.getElementById("gridContainer");

                        gridContainer.innerHTML = ' ';

                        for (let i = 0; i < dataArr.length; i++) {
                            gridContainer.innerHTML += '<div class="gridItem">' + dataArr[i] + '</div>';
                        }

                    }

                    function search() {
                        var inputText = document.getElementById('input').value;

                        var found = 0;
                        for (i = 0; i < dataArr.length; i++) {
                            if (inputText == dataArr[i]) {
                                found = found + 1;
                            }
                        }
                        alert("Number Of Searched Card In Collection: " + found);

                    }

                    function save() {
                        let string = JSON.stringify(dataArr)
                        localStorage.setItem("data", string)
                    }

                    function load() {
                        let retString = localStorage.getItem("data")
                        let retArr = JSON.parse(retString)

                        for (let i = 0; i < dataArr.length; i++) {
                            dataArr.pop();
                        }

                        gridContainer.innerHTML = ' ';

                        for (let i = 0; i < retArr.length; i++) {
                            dataArr[i] = retArr[i];
                        }

                        for (let i = 0; i < dataArr.length; i++) {
                            gridContainer.innerHTML += '<div class="gridItem">' + dataArr[i] + '</div>';
                        }
                    }

                </script>

            </div>

            <div class="bannerItem"><img src="https://i.redd.it/jd2sdm59hdo31.png" height="140px" width="100px"></div>
            <div class="bannerItem"><img src="https://i.redd.it/jd2sdm59hdo31.png" height="140px" width="100px"></div>
            <div class="bannerItem"><img src="https://i.redd.it/jd2sdm59hdo31.png" height="140px" width="100px"></div>
            <div class="bannerItem"><img src="https://i.redd.it/jd2sdm59hdo31.png" height="140px" width="100px"></div>
            <div class="bannerItem"><img src="https://i.redd.it/jd2sdm59hdo31.png" height="140px" width="100px"></div>

        </div>
        

    </center>

    <div class="gridContainer" id="gridContainer">

    </div>

        <p id="pText"></p>



</body>
</html>